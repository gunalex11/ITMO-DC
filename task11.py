g = 0.8
PI = [[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]]
PI[0][0] = 0.6
PI[1][0] = 0.4
PI[1][1] = 1
PI[0][2] = 0.3
PI[2][2] = 0.7
PI[0][3] = 1

P = [[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]]]
P[0][0][1] = 0.3
P[0][0][2] = 0.7
P[1][0][2] = 1
P[1][1][0] = 1 
P[0][2][0] = 1
P[2][2][2] = 0.2
P[2][2][3] = 0.8
P[0][3][0] = 0.6
P[0][3][1] = 0.4

R = [[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]]]
R[0][0][1] = 2
R[0][0][2] = 3
R[1][0][2] = 3
R[1][1][0] = 3 
R[0][2][0] = -3
R[2][2][2] = 1
R[2][2][3] = 6
R[0][3][0] = 5
R[0][3][1] = -3

A = [[0,1],[1],[0,2],[0]]

Mat = [[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]]
for i in range(4):
    for j in range(4):
        summ = 0
        for a in A[i]:
            summ += PI[a][i]*P[a][i][j]
        Mat[i][j] = -g*summ

RS = [0,0,0,0]
for i in range(4):
    summ = 0
    for a in A[i]:
        for s in [0,1,2,3]:
            summ += P[a][i][s]*R[a][i][s]*PI[a][i]
    RS[i] = summ

import numpy as np
from numpy.linalg import solve

for i in range(len(Mat)):
    Mat[i][i] += 1
#print(solve(Mat,RS))
print(np.array(Mat))

